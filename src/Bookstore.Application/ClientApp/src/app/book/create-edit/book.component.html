<h1>New Book</h1>

<br />
<br />

<form #form="ngForm" (ngSubmit)="submit()" novalidate>
  {{ book | json }}
  <div class="form-group">
    <label for="title">Title</label>
    <input id="title" type="text" class="form-control" [maxLength]="100" [(ngModel)]="book.title" name="title" required #title="ngModel"/>
    <div class="alert alert-danger" *ngIf="title.touched && !title.valid">Insert a valid title.</div>
  </div>

  <div class="form-group">
    <label for="author">Author</label>
    <input id="author" type="text" class="form-control" [maxLength]="100" [(ngModel)]="book.author" name="author" required #author="ngModel"/>
    <div class="alert alert-danger" *ngIf="author.touched && !author.valid">Insert a valid author.</div>
  </div>

  <div class="form-group">
    <label for="publishDate">Publish Date</label>
    <input id="publishDate" type="date" class="form-control" [(ngModel)]="book.publishDate" name="publishDate" required #publishDate="ngModel"/>
    <div class="alert alert-danger" *ngIf="publishDate.touched && !publishDate.valid">Insert a publish date. Year-Month-Day. . e.g. 1994-04-30</div>
  </div>

  <div class="form-group">
    <label for="arrivedDate">Arrived Date</label>
    <input id="arrivedDate" type="date" class="form-control" [(ngModel)]="book.arriveDate" name="arrivedDate" required #arrivedDate="ngModel"/>
    <div class="alert alert-danger" *ngIf="arrivedDate.touched && !arrivedDate.valid">Insert a valid arrived date. Year-Month-Day. e.g. 1994-04-30</div>
  </div>

  <div class="form-group">
    <label for="genres">Genres</label>
    <input id="genres" type="text" class="form-control" [(ngModel)]="book.genres" name="genres" required #genres="ngModel"/>
    <div class="alert alert-danger" *ngIf="genres.touched && !genres.valid">Insert a valid genre.</div>
  </div>

  <div class="form-group">
    <label for="shelf">Shelf</label>
    <input id="shelf" type="text" class="form-control" [(ngModel)]="book.shelf" ngModel pattern="[A-Z]-\d{2}" name="shelf" required #shelf="ngModel"/>
    <div class="alert alert-danger" *ngIf="shelf.touched && !shelf.valid">Insert a valid shelf. e.g. A-22</div>
  </div>

  <div class="form-group">
    <label for="quantity">Quantity</label>
    <input id="quantity" type="number" min="0" class="form-control" [(ngModel)]="book.quantity" name="quantity" required #quantity="ngModel"/>
    <div class="alert alert-danger" *ngIf="quantity.touched && !quantity.valid">Insert a valid quantity.</div>
  </div>

  <button class="btn btn-primary" [disabled]="!form.valid">Save</button>
  <button *ngIf="book.id" class="btn btn-danger" type="button" (click)="delete()">Delete</button>

  <br/>
  <br/>
</form>
